<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Allows one to fully create an R package in a single .Rmd
    file.  Includes functionality and .Rmd templates for a literate
    programming approach to R package development.">
<title>Literate Programming for Writing R Packages • litr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Literate Programming for Writing R Packages">
<meta property="og:description" content="Allows one to fully create an R package in a single .Rmd
    file.  Includes functionality and .Rmd templates for a literate
    programming approach to R package development.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">litr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/basic-example.html">A Basic Example</a>
    <a class="dropdown-item" href="articles/faqs.html">FAQs</a>
    <a class="dropdown-item" href="articles/package-templates.html">R Package Templates</a>
    <a class="dropdown-item" href="articles/packages-in-the-wild.html">Packages in the Wild</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jacobbien/litr-project/tree/main/litr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="litr-writing-r-packages-via-literate-programming-">litr: Writing R packages via literate programming <a class="anchor" aria-label="anchor" href="#litr-writing-r-packages-via-literate-programming-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>litr</code> R package lets you write a complete R package in a single R markdown document. This enables a workflow for writing R packages that is probably very different from what you are used to.</p>
<div class="figure">
<img src="reference/figures/diagram3.png" alt=""><p class="caption"><em>With litr, knitting creates an R package in addition to the .html file.</em></p>
</div>
</div>
<div class="section level2">
<h2 id="why-write-r-packages-in-this-way">Why write R packages in this way?<a class="anchor" aria-label="anchor" href="#why-write-r-packages-in-this-way"></a>
</h2>
<p>Using <code>litr</code> brings all the benefits of R markdown to package development:</p>
<ul>
<li>
<strong>Record and explain</strong> every step of making your R package so that you and others can understand every detail years later.</li>
<li>Present the functions in your package in a logical order that maximizes <strong>human readability</strong>.</li>
<li>Include all the derivations in <strong>latex right next to the code</strong> that ends up in your package.</li>
<li>Include <strong>figures</strong> alongside code to help in the explanation.</li>
<li>Define <strong>unit tests in the relevant context</strong>, i.e. directly after defining the function to be tested.</li>
</ul>
<p>Furthermore, writing your R package is actually <em>easier</em> with <code>litr</code> than without it. Just choose one of the R package <a href="articles/package-templates.html">templates</a> below and press “Knit” – and you’ll have a working R package that you can then modify.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the latest release of <code>litr</code> on github with the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jacobbien/litr-project@*release"</span>, subdir <span class="op">=</span> <span class="st">"litr"</span><span class="op">)</span></span></code></pre></div>
<p>Or for the latest development version, remove the <code>@*release</code> in the above.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>Using a template is the best way to get started:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/draft.html" class="external-link">draft</a></span><span class="op">(</span><span class="st">"create-rhello.Rmd"</span>, template <span class="op">=</span> <span class="st">"make-an-r-package"</span>, package <span class="op">=</span> <span class="st">"litr"</span><span class="op">)</span></span></code></pre></div>
<p>This creates an R markdown file called <a href="https://github.com/jacobbien/litr-project/blob/main/examples/make-an-r-package/create-rhello.Rmd" class="external-link"><code>create-rhello.Rmd</code></a> that demonstrates the literate programming workflow for writing an R package. In particular, when you knit <code>create-rhello.Rmd</code>, it creates a tiny example R package called <a href="https://github.com/jacobbien/litr-project/tree/main/examples/make-an-r-package/rhello" class="external-link"><code>rhello</code></a> with one function and one test function. To knit, you can either press “Knit” in RStudio or use the following command:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">litr</span><span class="fu">::</span><span class="fu"><a href="reference/render.html">render</a></span><span class="op">(</span><span class="st">"create-rhello.Rmd"</span><span class="op">)</span></span></code></pre></div>
<p>This creates an R package! Now you can modify the template to design your own package.</p>
<p>To explore other kinds of R packages, such as those using <code>Rcpp</code>, see the <a href="articles/package-templates.html">templates</a> page. Also, see the section on <a href="articles/packages-in-the-wild.html">packages in the wild</a> that use <code>litr</code>.</p>
</div>
<div class="section level2">
<h2 id="more-background">More background<a class="anchor" aria-label="anchor" href="#more-background"></a>
</h2>
<p>When you try to understand the code in an R package, the logic of how the functions relate to each other is often not obvious. While including function documentation, vignettes, and unit tests are all best practices, they do not convey the chain of logic in the mind of the programmer that went into writing the different functions. It can be difficult to know how to look through all the functions within even a well-documented R package. The fact that the functions appear in different files and that functions within files can be defined in arbitrary order makes it unclear how to approach reading the code. Furthermore, tests are stored in a different place from the functions themselves, making the tests harder to read. This would all be resolved if we could have a single document that goes through all code and tests in a linear, logical fashion. Rather than try to construct such a document after the fact, the idea of <code>litr</code> is to <em>make this document the actual source code for the package</em>. <strong>The R package is created through the act of knitting this document.</strong> If we want to modify anything in the package, then we do so by modifying this document and re-knitting.</p>
<p>The above motivation is that of <a href="https://en.wikipedia.org/wiki/Literate_programming" class="external-link">literate programming</a>, introduced by <a href="https://www-cs-faculty.stanford.edu/~knuth/" class="external-link">Donald Knuth</a>, and the direct inspiration is <a href="https://www.fast.ai/about/" class="external-link">fast.ai</a>’s <a href="https://nbdev.fast.ai/" class="external-link"><code>nbdev</code></a>, which is available in Python. The <code>litr</code> package relies heavily on a number of great tools in R, especially <a href="https://yihui.org/knitr/" class="external-link"><code>knitr</code></a>, <a href="https://rmarkdown.rstudio.com/docs/index.html" class="external-link"><code>rmarkdown</code></a>, <a href="https://usethis.r-lib.org/" class="external-link"><code>usethis</code></a>, <a href="https://devtools.r-lib.org/" class="external-link"><code>devtools</code></a>, and <a href="https://testthat.r-lib.org/" class="external-link"><code>testthat</code></a>. I should also note that <a href="https://yihui.org/en/" class="external-link">Yihui Xie</a> has <a href="https://yihui.org/rlp/" class="external-link">a post</a> where he demonstrates a similar idea, although his approach appears to be more of a proof of concept.</p>
<p>You can hear <a href="https://www.fast.ai/about.html#jeremy-howard" class="external-link">Jeremy Howard</a> and <a href="https://hugobowne.github.io/" class="external-link">Hugo Bowne-Anderson</a> talk about literate programming and <a href="https://nbdev.fast.ai/" class="external-link"><code>nbdev</code></a> on the <a href="https://vanishinggradients.fireside.fm/2" class="external-link">Vanishing Gradients podcast</a>. This discussion is what inspired <code>litr</code>!</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jacobbien/litr-project/tree/main/litr/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing litr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://faculty.marshall.usc.edu/jacob-bien/" class="external-link">Jacob Bien</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://www.patvoss.me/" class="external-link">Patrick Vossler</a> <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="http://faculty.marshall.usc.edu/jacob-bien/" class="external-link">Jacob Bien</a>, <a href="https://www.patvoss.me/" class="external-link">Patrick Vossler</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
